<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Linto & Mariya - Wedding Invitation</title>

    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Great+Vibes&family=Montserrat:wght@300;400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="mariya.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollToPlugin.min.js"></script>
    
</head>

<body>

 <div id="preloader">
  <div class="pre-bg"></div>

  <div class="ring-scene">
  <div class="ring">
    <div class="pre-heart">♥</div>
  </div>

    <!-- letters -->
    <div class="letters">
      <span class="letter-l">L</span>
      <span class="letter-m">M</span>
    </div>

    <div class="loading-text">
      Loading <span id="loadPercent">0</span>%
    </div>
  </div>
</div>

<section class="hero">

<div class="hero-bg"></div>
<div class="hero-overlay"></div>
<div id="soundToggle" class="sound-toggle">
  <i class="fa-solid fa-volume-xmark"></i>
</div>

<div class="hero-content">
  <div class="monogram">
  L <span class="heart">♥</span> M
</div>

  <div class="gold">Linto</div>
  <div class="and">&</div>
  <div class="gold">Mariya</div>

  <div class="context">Together with their families invite you to celebrate</div>
  <div class="subtitle">May 3 · 2026</div>

  <div class="cta-wrap">
  <button class="cta primary" onclick="scrollToDetails()">View Details</button>
</div>
</div>

<div class="scroll-indicator" ><span></span></div>

</section>
<audio id="music" loop playsinline>
  <source src="music.mp3" type="audio/mp3">
</audio>

    <section class="countdown-container">
        <h2>You are Invited!</h2>
        <div class="timer" id="countdown">
            <div class="timer-box">
                <div class="timer-circle"><span id="days">00</span></div>
                <p>Days</p>
            </div>
            <div class="timer-box">
                <div class="timer-circle"><span id="hours">00</span></div>
                <p>Hours</p>
            </div>
            <div class="timer-box">
                <div class="timer-circle"><span id="minutes">00</span></div>
                <p>Minutes</p>
            </div>
            <div class="timer-box">
                <div class="timer-circle"><span id="seconds">00</span></div>
                <p>Seconds</p>
            </div>
        </div>
    </section>

    <section class="details" id="details">
        <h2>The Wedding Celebration</h2>
        <p>With joyful hearts, we invite you to join us on our special day.</p>

        <div class="details-grid">
            <div class="card">
                <div class="card-date">
                    <span>3:30 PM</span>

                </div>
                <div class="card-info">
                    <h3>The Ceremony</h3>

                    <p><strong>St. Alphonsa Church, Vallakunnu</strong></p>
                    <p>Vallakkunnu, Kalletumkara, Kerala 680683</p>
                    <a href="https://www.google.com/maps/search/?api=1&query=10.343153,76.261833" target="_blank"
                        class="map-button">Get Directions</a>
                </div>
            </div>
            <div class="card">
                <div class="card-date">
                    <span>6:30 PM</span>

                </div>
                <div class="card-info">
                    <h3>The Reception</h3>

                    <p><strong>SJM Convention Center ( എസ്ജെഎം കൺവൻഷൻ സെന്റർ )</strong></p>
                    <p> Muriyad, Kerala 680683</p>
                    <a href="https://www.google.com/maps/search/?api=1&query=10.355669,76.261771" target="_blank"
                        class="map-button">Get Directions</a>
                </div>
            </div>
        </div>
    </section>

<div class="calendar-wrap">
  <a 
    href="https://calendar.google.com/calendar/render?action=TEMPLATE
    &text=Linto+%26+Mariya+Wedding
    &dates=20260503T100000Z/20260503T160000Z
    &details=Join+us+to+celebrate+our+wedding+ceremony+at+3:30+PM+and+reception+at+6:30+PM.
    &location=St.+Alphonsa+Church,+Vallakunnu,+Kerala"
    target="_blank"
    class="calendar-btn"
  >
    <img src="https://www.gstatic.com/calendar/images/dynamiclogo_2020q4/calendar_31_2x.png">
    Add to Calendar
  </a>
</div>

<section class="wishes-section">

  <!-- Slider Card -->
  <div class="wishes-card">
    <div id="wishesSlider" class="wishes-slider"></div>
  </div>

  <!-- Button -->
  <button id="openFormBtn" class="wishes-btn">
    <i class="fa-regular fa-heart"></i>
    Send your wishes
  </button>

  <!-- Form -->
<div id="formOverlay" class="form-overlay">

  <div id="messageForm" class="wishes-modal">
    <input type="text" id="nameInput" placeholder="Your good name">
    <textarea id="messageInput" placeholder="Write your wishes here..."></textarea>
    <button id="submitMessage">Send Wishes</button>
  </div>

  <!-- Separate floating close button -->
  <button id="closeFormBtn" class="modal-close-floating">
    <i class="fa-solid fa-xmark"></i>
  </button>

</div>

  <!-- Couple note -->
  <div class="wishes-note">
    <h3>Linto & Mariya</h3>
    <p>We are looking forward to your presence on our wedding day and the party thereafter.</p>
  </div>

  <h2 class="thanks">Thank you</h2>

</section>

    <footer>
        <p>#LintoWedsMariya2026</p>
        <p>&copy; 2026 Linto & Mariya. Made with love.</p>
    </footer>
    
   

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
import { getFirestore, collection, addDoc, onSnapshot, query, orderBy } 
from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

/* ================= FIREBASE ================= */

const firebaseConfig = {
  apiKey: "AIzaSyBW4mEP3XkvSWYYOcvy3UaDJk1VXRnKqWg",
  authDomain: "wedding-a9928.firebaseapp.com",
  projectId: "wedding-a9928",
  storageBucket: "wedding-a9928.firebasestorage.app",
  messagingSenderId: "76310015650",
  appId: "1:76310015650:web:6409fa87fe586b54acb1fb"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);
const wishesRef = collection(db, "wishes");

/* ================= ELEMENTS ================= */

const slider = document.getElementById("wishesSlider");
const openBtn = document.getElementById("openFormBtn");
const overlay = document.getElementById("formOverlay");
const closeBtn = document.getElementById("closeFormBtn");

const submitBtn = document.getElementById("submitMessage");
const nameInput = document.getElementById("nameInput");
const messageInput = document.getElementById("messageInput");

/* ================= MODAL ================= */

openBtn.addEventListener("click", () => overlay.classList.add("show"));
closeBtn.addEventListener("click", () => overlay.classList.remove("show"));

overlay.addEventListener("click", (e) => {
  if (e.target === overlay) overlay.classList.remove("show");
});

/* ================= SEND WISH ================= */

submitBtn.addEventListener("click", async () => {
  const name = nameInput.value.trim() || "Guest";
  const message = messageInput.value.trim();
  if (!message) return;

  await addDoc(wishesRef, {
    name,
    message,
    created: Date.now()
  });

  nameInput.value = "";
  messageInput.value = "";
  overlay.classList.remove("show");
});

/* ================= CAROUSEL ================= */

let index = 1;
let autoSlide;
let startX = 0;
let isDragging = false;

const q = query(wishesRef, orderBy("created", "desc"));

onSnapshot(q, (snapshot) => {
  slider.innerHTML = "";

  const track = document.createElement("div");
  track.className = "wishes-track";

  const wishes = [];
  snapshot.forEach(doc => wishes.push(doc.data()));

  if (wishes.length === 0) return;

  /* clone last + first for infinite loop */
  const slides = [
    wishes[wishes.length - 1],
    ...wishes,
    wishes[0]
  ];

  slides.forEach(data => {
    const card = document.createElement("div");
    card.className = "wish";
    card.innerHTML = `
      “${data.message}”
      <strong>✧ ${data.name}</strong>
    `;
    track.appendChild(card);
  });

  slider.appendChild(track);

  index = 1;
  setPosition(false);
  startAutoSlide();
});

/* position slide */
function setPosition(animate = true) {
  const track = document.querySelector(".wishes-track");
  const cards = document.querySelectorAll(".wish");
  if (!track || cards.length === 0) return;

  const gap = window.innerWidth <= 600 ? 16 : 24;
  const cardWidth = cards[0].offsetWidth + gap;

  track.style.transition = animate ? "transform .45s ease" : "none";
  track.style.transform = `translateX(-${index * cardWidth}px)`;

  /* ⭐ ACTIVE CARD */
  cards.forEach((c,i)=> c.classList.toggle("active", i===index));
}

/* auto slide */
function startAutoSlide(){
  clearInterval(autoSlide);
  autoSlide = setInterval(()=>{
    index++;
    setPosition(true);
  },5200);
}

/* loop correction */
slider.addEventListener("transitionend", () => {
  const cards = document.querySelectorAll(".wish");

  if (index === cards.length - 1) {
    index = 1;
    setPosition(false);
  }
  if (index === 0) {
    index = cards.length - 2;
    setPosition(false);
  }
});

/* pause on hover */
slider.addEventListener("mouseenter", () => clearInterval(autoSlide));
slider.addEventListener("mouseleave", startAutoSlide);

/* ================= SWIPE ================= */

/* touch */
slider.addEventListener("touchstart", e => {
  startX = e.touches[0].clientX;
});

slider.addEventListener("touchend", e => {
  const diff = e.changedTouches[0].clientX - startX;
  if (diff > 50) index--;
  if (diff < -50) index++;
  setPosition(true);
});

/* mouse drag */
slider.addEventListener("mousedown", e => {
  isDragging = true;
  startX = e.clientX;
});

slider.addEventListener("mouseup", e => {
  if (!isDragging) return;
  const diff = e.clientX - startX;
  if (diff > 50) index--;
  if (diff < -50) index++;
  setPosition(true);
  isDragging = false;
});
</script>
```

    <script src="mariya.js"></script>
</body>


</html>
